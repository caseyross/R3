script.
	import CommentModel from '../models/Comment.coffee'
	import PostModel from '../models/Post.coffee'
	import Comment from '../components/Comment.pug'
	import Post from '../components/Post.pug'
	import SubredditTag from '../components/SubredditTag.pug'
	export channelType = 'frontpage'
	export items = []
	export selection = null
	scoreRange = [0, 0]
	computeStats = (items) =>
		for item in items
			if item.score < scoreRange[0]
				scoreRange[0] = item.score
			else if item.score > scoreRange[1]
				scoreRange[1] = item.score
	computeStats(items)

ol
	{#each items as item}
		li
			{#if channelType !== 'subreddit'}
				SubredditTag(subreddit={item.subreddit})
			{#if item instanceof PostModel}
				Post(post={item} scoreRange={scoreRange} selected={item === selection})
			{#if item instanceof CommentModel}
				Comment(comment={item} scoreRange={scoreRange} selected={item === selection})

style.
	ol
		display flex
		flex-flow column nowrap
		padding-bottom 90vh
script.
	import Placard from '../user/Placard.pug'
	import PostFlair from '../post/PostFlair.pug'
	import SubredditTag from '../subreddit/SubredditTag.pug'
	export post = {}
	export showFlair = false
	export selected = false
	export select = -> {}

button(on:mousedown={select(post)} class:selected={selected} class:stickied={post.isStickied || post.isSuperStickied})
	.title
		{#if post.content.type === 'link'}
			a(href={post.content.href}) {post.title}
		{:else}
			| {post.title}
	.hanging-tags
		.tag.score {post.score}
	.left-tags
		.tag.type-icon
			{#if post.content}
				{#if post.content.type === 'link'}
					| ⟀
				{:else if post.content.type === 'self'}
					{#if post.content.selftext}
						| ⋅
					{:else}
						| ∴
				{:else if post.content.type === 'image'}
					{#if post.content.images.length > 1}
						| ⊞
					{:else}
						| ▫
				{:else if post.content.type === 'video'}
					| ‣
				{:else if post.content.type === 'embed'}
					| ⋗
				{:else if post.content.type === 'reddit'}
					| ⊙
		{#if showFlair}
			PostFlair(flair={post.titleFlair} subredditName={post.subredditName})
		{:else}
			SubredditTag(name={post.subredditName})
	.right-tags
		.tag.comment-count  {post.commentCount} 
		time(datetime={post.createDate.toString()}).tag.age {post.createDate.ago().count}{post.createDate.ago().unit}

style.
	button
		position relative
		background #9b9b9b
		color white
		margin-top 1em
		margin-left 2em
		border-radius 1em
		padding 1em 2em
		text-align left
		&.stickied
			background green
			color white
		&:hover
		&:focus
			background gray
			color white
		&.selected
			background var(--white)
			color var(--black)
	.tags
		position absolute
		top -0.5em
	.hanging-tags
		right calc(100% - 2ch)
	.left-tags
		left 2ch
	.right-tags
		right -2ch
	.tag
		padding 0 1ch
		border-radius 1rem
	.age
		background darkseagreen
		color white
	.comment-count
		background wheat
	.score
		background salmon
		color white
	.type-icon
		font-size 32px
		display flex
		justify-content center
		align-items center
script.
	import { setContext } from 'svelte'
	
	import { Color } from '../../../lib/index.js'

	set_theme_colors = (main_color, secondary_color) ->
		document.body.classList.add('color-strategy-black-text') # whole-page color schemes TODO
		if !main_color
			main_color = secondary_color
			secondary_color = null
		text_color =
			if main_color
				if (new Color({ hex: main_color })).isLight()
					'black'
				else
					'white'
			else
				null
		document.body.style.setProperty('--c-subreddit-theme', main_color or 'var(--c-subreddit-theme-default)')
		document.body.style.setProperty('--c-subreddit-theme-secondary', secondary_color or 'var(--c-subreddit-theme-secondary-default)')
		document.body.style.setProperty('--c-subreddit-theme-text', text_color or 'var(--c-subreddit-theme-text-default)')

	setContext('set_theme_colors', set_theme_colors)
	
	set_theme_colors()

slot
script.
	export base_path = '/'
	export disabled = false
	export selection = 'all'
	format_href = (range) ->
		url = new URL(location.href)
		url.pathname = base_path + '-' + range
		return url.toString()
	ranges = [
		{
			label: 'H',
			value: 'hour'
		}
		{
			label: 'D',
			value: 'day'
		}
		{
			label: 'W',
			value: 'week'
		}
		{
			label: 'M',
			value: 'month'
		}
		{
			label: 'Y',
			value: 'year'
		}
		{
			label: 'A',
			value: 'all'
		}
	]

fieldset(disabled={disabled})
	legend Time range
	{#each ranges as range}
		a.time-range-option(class:selected={selection === range.value} href={format_href(range.value)}) {range.label}

style.
	fieldset
		&[disabled]
			opacity 0.5
			pointer-events none
	legend
		font-feature-settings 'cpsp' 1
		font-size 10px
		opacity 0.5
		text-transform uppercase
	.time-range-option
		align-items center
		aspect-ratio 1
		border 2px solid transparent
		border-radius 50%
		color inherit
		display inline-flex
		font-size 12px
		justify-content center
		width 2em
		&:hover
			background rgba(0,0,0,0.1)
		&.selected
			border 2px solid orangered
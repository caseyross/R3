script.
	export base_path = '/'
	export selection = 'hot'
	export sort_options = []
	format_href = (sort) ->
		url = new URL(location.href)
		url.pathname = base_path + '/' + sort
		return url.toString()
	all_sort_options = [
		{
			label: 'New',
			value: 'new'
		}
		{
			label: 'Rising',
			value: 'rising'
		}
		{
			label: 'Hot',
			value: 'hot'
		}
		{
			label: 'Best',
			value: 'best'
		}
		{
			label: 'Controversial',
			value: 'controversial'
		}
		{
			label: 'Top',
			value: 'top'
		}
		{
			label: 'Geo...',
			value: 'geo'
		}
		{
			label: 'Search...',
			value: 'search'
		}
	]

fieldset
	legend Sort by
	{#each all_sort_options.filter(x => sort_options.includes(x.value)) as option}
		a.sort-option(class='sort-option-{option.value}' class:selected={selection === option.value} href={format_href(option.value)} title={option.label})

style.
	fieldset
		border 0
		display flex
		gap 1ch
		padding 0
	legend
		font-feature-settings 'cpsp' 1
		font-size 10px
		opacity 0.5
		text-transform uppercase
	.sort-option
		background rgba(0,0,0,0.05)
		border-radius 1ch
		color inherit
		font-size 10px
		padding 1em
	.sort-option-best
		&.selected
			background pink
			color white
	.sort-option-controversial
		&.selected
			background powderblue
			color white
	.sort-option-hot
		&.selected
			background lightsalmon
			color white
	.sort-option-new
		&.selected
			background darkseagreen
			color white
	.sort-option-rising
		&.selected
			background wheat
			color white
	.sort-option-top
		&.selected
			background salmon
			color white
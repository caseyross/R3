script.
	export post = null
	import { AWAIT } from '../effect'
	import PostComments from '../partial/PostComments'
	import PostContent from '../partial/PostContent'

svelte:head
	{#await post.POST.run() then v}
		title {v.title}
article
	AWAIT(let:v p={post.POST})
		header
			{#if v.xpost_parent}
				p Crosspost from ...
			h1 {v.title}
			address
				time {v.created_at.asHumanReadableAgo()}
				| &nbsp;=&nbsp;
				a(href='/u/{v.author}') {v.author}
		PostContent(content={v.content})
	AWAIT(let:v p={post.COMMENTS})
		PostComments(comments={v})

style.
	article
		width 100%
		display flex
		flex-flow column nowrap
		align-items center
	header
		position absolute
		top 1rem
		left 1rem
	h1
		padding 0.5em 1em
		background var(--white)
		border 2px solid
	address
		padding 4rem 8rem
		display flex
		font 900 10px 'Iosevka Fixed Curly'
		color gray
		background var(--white)
		opacity 0
		header:hover &
			opacity 1
	h1
		font 900 14px 'Iosevka Fixed Curly'
	time
		text-transform uppercase
script.
	export feed = null
	import { AWAIT } from '/src/effect'
	import FeedItemList from './FeedItemList'
	import FeedItemDetail from './FeedItemDetail'

svelte:head
	title {feed.listing.display_name}
main
	nav
	.name
		h1 {feed.listing.display_name}
		h1 1
	AWAIT(let:v p={feed.PAGE})
		.feed-items
			{#if feed.listing.is_pure}
				FeedItemList(items={v.things.filter(t => t.stickied)} selection_id={feed.selection_id})
				FeedItemList(items={v.things.filter(t => !t.stickied)} selection_id={feed.selection_id})
			{:else}
				FeedItemList(items={v.things.filter(t => t.pinned)} selection_id={feed.selection_id})
				FeedItemList(items={v.things.filter(t => !t.pinned)} selection_id={feed.selection_id})
		{#key feed.selection_id}
			FeedItemDetail(item={v.things.find(x => x.id === feed.selection_id)})

style.
	main
		height 100%
		width 100%
		display grid
		grid-template-columns 4fr 1fr 7fr 12fr
		grid-template-rows 100%
		font 400 12px/16px 'Iosevka Aile'
		-webkit-font-smoothing antialiased
		-moz-osx-font-smoothing grayscale
		--white white
		--lightgray lightgray
		--black black
		--orangered orangered
		&.theme-dark
			--white rgb(29 32 38)
			--black #e3e3e3
		color var(--black)
	.name
		display flex
		flex-flow column nowrap
		align-items center
		justify-content space-between
	h1
		width 1ch
		font-size 60px
		font-weight normal
		line-height 1em
		text-transform uppercase
		word-break break-all
	.feed-items
		width 100%
		height 100%
		overflow auto